{% extends 'front_office/base.html.twig' %}

{% block main %}
{% for flash_message in app.flashes('success') %}
    <div class="alert alert-success">
        {{ flash_message }}
    </div>
{% endfor %}
{% if app.flashes('success') is not empty %}
    <script>
        // Sélectionne l'élément de la notification
        var successMessage = document.getElementById('success-message');

        // Masque la notification après 5 secondes
        setTimeout(function() {
            successMessage.style.display = 'none';
        }, 5000);
    </script>
    {% endif %}
    

   <style>
    .action-buttons {
        display: flex;
        justify-content: space-between;
    }

    .btn-edit,
    .btn-delete {
        padding: 8px 16px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }

    .btn-edit {
        background-color: #4CAF50; /* Green */
        color: white;
    }

    .btn-delete {
        background-color: #f44336; /* Red */
        color: white;
    }

    .btn-edit:hover,
    .btn-delete:hover {
        opacity: 0.8;
    }
</style>
<h1 style="font-size: 32px; color: #333; margin-bottom: 20px; text-align: center; text-transform: uppercase; font-weight: bold;">List of Avertissements</h1>



    <main class="discussion-mp">	
			<div class="main-section">
				<div class="container">
					<div class="row">
						<div class="col-lg-12 col-md-12">
							<div class="checkout-heading">
																
							</div>
							<div class="table-responsive table-brder">
								<table class="table">
									<thead>
										<tr>
											
											<th scope="col" style="font-size:16px; font-weight:500;">ReportedUsername</th>
											
											<th scope="col" style="font-size:16px; font-weight:500;">TypeReclamation</th>
                                            <th scope="col" style="font-size:16px; font-weight:500;">screenShot</th>
                                            <th scope="col" style="font-size:16px; font-weight:500;">Actions</th>
										</tr>
									</thead>
									<tbody>
                                        {% for r in list %}
										<tr>
											
											<td>{{ r.ReportedUsername }}</td>
                                    
                                            <td>{{ r.raison }}</td>
                                            <td>{{ r.screenShot }}</td>
                                            
                                                <td class="action-buttons">
                                                    {% if not r.confirmation %}
                                                    <form action="{{ path('avertissement_confirm', {'id': avertissement.id}) }}" method="post">
                                                        <button type="submit">Valider</button>
                                                    </form>
                                                {% else %}
                                                    Avertissement déjà confirmé
                                                {% endif %}
                                                    <form action="{{ path('avertissement_delete', {'id': r.id}) }}" method="post">
                                                        <button type="submit" class="btn-delete">Supprimer</button>
                                                    </form>
                                                </td>
                                            
										</tr>
                                        {% endfor %}									
									</tbody>
								</table>
							</div>
						
						</div>											
					</div>					
				</div>
			</div>
		</main>
{% endblock %}
    